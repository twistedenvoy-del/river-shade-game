/* ============================================================
   ACHIEVEMENT & JOURNAL MOBILE FIXES
   Add this to the END of mobile.css
   ============================================================ */

/* === FIX ACHIEVEMENT NOTIFICATIONS ON MOBILE === */
@media (max-width: 768px) {
  .achievement-notification {
    left: 10px !important;
    right: 10px !important;
    top: 70px !important;
    width: auto !important;
    transform: translateX(0) !important;
    max-width: calc(100vw - 20px);
    padding: 0.8rem 1rem !important;
  }
  
  .achievement-notification.show {
    transform: translateX(0) !important;
    opacity: 1;
  }
  
  .achievement-icon {
    font-size: 1.8rem !important;
  }
  
  .achievement-title {
    font-size: 0.7rem !important;
  }
  
  .achievement-name {
    font-size: 0.9rem !important;
  }
  
  /* Journal unlock toast on mobile */
  #journal-unlock-toast {
    top: 70px !important;
    left: 10px !important;
    right: 10px !important;
    max-width: calc(100vw - 20px) !important;
    transform: translateX(0) translateY(-20px) !important;
  }
  
  /* Item examination modal on mobile */
  .modal-content {
    width: 95% !important;
    max-width: 95% !important;
    padding: 1.5rem 1rem !important;
    max-height: 90vh;
    overflow-y: auto;
  }
  
  .modal-close {
    width: 44px !important;
    height: 44px !important;
    font-size: 1.5rem !important;
    min-width: 44px;
    min-height: 44px;
  }
  
  #modal-item-name {
    font-size: 1.3rem !important;
    padding-right: 50px;
  }
  
  #modal-description {
    font-size: 0.95rem !important;
  }
  
  .modal-flavor {
    font-size: 0.9rem !important;
  }
  
  /* Journal button on mobile */
  #journal-btn-universal {
    top: 0.5rem !important;
    left: 0.5rem !important;
    font-size: 1.2rem !important;
    padding: 0.4rem 0.7rem !important;
    z-index: 10002 !important;
  }
  
  /* Ensure correct z-index layering */
  .achievement-notification {
    z-index: 10001 !important;
  }
  
  #journal-unlock-toast {
    z-index: 10003 !important;
  }
  
  #item-modal {
    z-index: 10000 !important;
  }
  
  /* Keep inventory and memory boxes below notifications */
  #inventory-box {
    z-index: 50 !important;
  }
  
  #memory-box {
    z-index: 50 !important;
  }
}

/* === TOUCH DEVICE IMPROVEMENTS === */
@media (hover: none) and (pointer: coarse) {
  .achievement-notification {
    padding: 1rem !important;
  }
  
  /* Make sure all interactive elements are touchable */
  .modal-overlay {
    -webkit-tap-highlight-color: transparent;
  }
  
  .modal-close {
    min-width: 44px;
    min-height: 44px;
    touch-action: manipulation;
    cursor: pointer;
  }
  
  #journal-btn-universal {
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(210,180,140,0.3);
  }
}

/* === SMALL PHONES (extra small screens) === */
@media (max-width: 480px) {
  .achievement-notification {
    padding: 0.7rem 0.8rem !important;
    top: 60px !important;
  }
  
  .achievement-icon {
    font-size: 1.5rem !important;
  }
  
  .achievement-title {
    font-size: 0.65rem !important;
  }
  
  .achievement-name {
    font-size: 0.85rem !important;
  }
  
  #journal-unlock-toast {
    top: 60px !important;
    padding: 0.8rem 1rem !important;
  }
  
  .modal-content {
    padding: 1rem 0.8rem !important;
  }
}
